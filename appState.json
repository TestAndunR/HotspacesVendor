{"EDITOR_STATE":{"allProjectFiles":{"dad2d1f5-2c20-4e8d-b5af-f23835e6dbb8":{"id":"dad2d1f5-2c20-4e8d-b5af-f23835e6dbb8","parent":null,"name":"HotspacesVendor","type":"DIRECTORY","isDirectory":true,"children":["48a4b4d6-c751-4efe-afe4-921eb254a535"],"isRemovable":false,"filePath":"HotspacesVendor"},"48a4b4d6-c751-4efe-afe4-921eb254a535":{"id":"48a4b4d6-c751-4efe-afe4-921eb254a535","parent":"dad2d1f5-2c20-4e8d-b5af-f23835e6dbb8","name":"lambda.js","type":"LAMBDA_FILE","isDirectory":false,"children":[],"isRemovable":true,"filePath":"HotspacesVendor/lambda.js","code":"let AWS = require('aws-sdk');\nconst ddb = new AWS.DynamoDB.DocumentClient();\n\nexports.handler = function (event, context, callback) {\n    let promoId = event.body.promoId;\n    let vendorId = event.body.vendorId;\n    let offerType = event.body.offerType;\n    let startDate = event.body.startDate;\n    let endDate = event.body.endDate;\n    let startTimeSlots = event.body.startTimeSlots;\n    let endTimeSlots = event.body.endTimeSlots;\n    let description = event.body.description;\n    let title = event.body.title;\n    let unitPrice = event.body.unitPrice;\n    let imgUrl = event.body.imgUrl;\n\n    ddb.put({\n        TableName: 'Promotions',\n        Item: {\n            'PromoId': promoId,\n            'VendorId': vendorId,\n            'OfferType': offerType,\n            'StartDate': startDate,\n            'EndDate': endDate,\n            'StartTimeSlots': startTimeSlots,\n            'EndTimeSlots': endTimeSlots,\n            'Description': description,\n            'UnitPrice': unitPrice,\n            'Title': title,\n            'ImgUrl': imgUrl\n        }\n    }).promise().then(function (data) {\n        console.log(\"Success \" + data)\n        //your logic goes here\n    }).catch(function (err) {\n        //handle error\n        console.log(\"Error\" + err)\n    });\n\n    callback(null, 'Successfully executed');\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n","triggers":[{"resourceName":"apigusEast1hotspacesVendorAddPromopost","config":{}}],"config":{"memory":128,"timeout":60,"runtime":"nodejs8.10"}}},"deletedFiles":[],"rootNode":"dad2d1f5-2c20-4e8d-b5af-f23835e6dbb8","openFiles":["48a4b4d6-c751-4efe-afe4-921eb254a535"],"currentFileId":"48a4b4d6-c751-4efe-afe4-921eb254a535","resources":{"apigusEast1hotspacesVendorAddPromopost":{"name":"apigusEast1hotspacesVendorAddPromopost","type":"API_GATEWAY","config":{"selectedRegion":"us-east-1","apiMode":1,"apiName":"hotspacesVendor","apiId":"78frpdbste","endpointType":"EDGE","rootResourceId":"tkriwheqz6","existingResources":{"/test":"7huuxb","/test2":"fu3kp8","/":"tkriwheqz6"},"resourceMode":0,"resourceName":"AddPromo","resourcePath":"/AddPromo","restMethod":"POST","proxyIntegration":false,"enableCORS":false,"stageMode":1,"stageName":"prod","stageDeploymentId":"54uq1y"},"globallyEditable":true},"ddbPromotions":{"name":"ddbPromotions","type":"DynamoDB","config":{"mode":0,"operation":"put","table":{"arn":"","name":"Promotions","partitionKey":"PromoId","partitionKeyType":"S","hasSortKey":true,"sortKey":"VendorId","sortKeyType":"S","mode":0},"parameters":{"TableName":"Promotions","Item":{"PromoId":"@{promoId}","VendorId":"@{vendorId}","OfferType":"@{offerType}","StartDate":"@{startDate}","EndDate":"@{endDate}","StartTimeSlots":"@{startTimeSlots}","EndTimeSlots":"@{endTimeSlots}","Description":"@{description}","UnitPrice":"@{unitPrice}","Title":"@{title}","ImgUrl":"@{imgUrl}"}},"validator":{"validatableFields":{},"validity":true},"valid":true},"globallyEditable":false}},"envVariables":[{"lambdaId":"all","varKey":"SIGMA_AWS_ACC_ID","varValue":null,"shouldPersist":false,"displayOnly":false,"editable":false}],"packageJSON":{"dependencies":{}},"lambdaId":"48a4b4d6-c751-4efe-afe4-921eb254a535"},"PROJECT_META":{"projectName":"HotspacesVendor","projectDescription":"","projectVersion":"1.0.0","projectRegion":"us-east-1","lastSave":1540786456717},"VCS_STATE":{"provider":"GitHub","repo":{"name":"HotspacesVendor","url":"https://github.com/TestAndunR/HotspacesVendor"}}}